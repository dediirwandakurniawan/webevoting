{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from \"react\"; // node.js library that concatenates classes (strings)\n\nimport { Bar } from \"react-chartjs-2\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, NavItem, NavLink, Nav, Progress, Table, Container, Row, Col } from \"reactstrap\"; // layout for this page\n\nimport Admin from \"layouts/Admin.js\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\"; // core components\n\nconst Dashboard = props => {\n  var _dataVote$series;\n\n  const router = useRouter(); // const Chart = require(\"chart.js\");\n\n  const {\n    0: dataVote,\n    1: setDataVote\n  } = useState([]);\n  const {\n    0: showChart,\n    1: setShowChart\n  } = useState(false);\n  const eventId = router.query.eventId;\n\n  const getData = async () => {\n    const {\n      data: res\n    } = await axios.get(`${process.env.NEXT_PUBLIC_URL}/dashboard/vote-candidate/${eventId}`);\n    console.log(res.data);\n    setDataVote(res.data);\n  }; // const options = {\n  //   chart: {\n  //     type: \"column\",\n  //   },\n  //   title: {\n  //     text: \"\",\n  //     align: \"left\",\n  //   },\n  //   subtitle: {\n  //     text: \"\",\n  //     align: \"left\",\n  //   },\n  //   xAxis: {\n  //     categories: dataVote && dataVote.categories,\n  //     crosshair: true,\n  //     accessibility: {\n  //       description: \"Kandidat\",\n  //     },\n  //   },\n  //   credits: {\n  //     enabled: false,\n  //   },\n  //   yAxis: {\n  //     min: 0,\n  //     title: {\n  //       text: \"Jumlah\",\n  //     },\n  //     Animation: true,\n  //   },\n  //   tooltip: {\n  //     valueSuffix: \"\",\n  //   },\n  //   plotOptions: {\n  //     column: {\n  //       pointPadding: 0.2,\n  //       borderWidth: 0,\n  //     },\n  //   },\n  //   series: [{ name: \"Kandidat\", data: dataVote && dataVote?.series?.data }],\n  // };\n\n\n  const options = {\n    chart: {\n      type: \"bar\"\n    },\n    title: {\n      text: \"\",\n      align: \"left\"\n    },\n    subtitle: {\n      text: \"\",\n      align: \"left\"\n    },\n    xAxis: {\n      categories: dataVote && dataVote.categories,\n      title: {\n        text: null\n      },\n      gridLineWidth: 1,\n      lineWidth: 0\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: \"\",\n        align: \"high\"\n      },\n      labels: {\n        overflow: \"justify\"\n      },\n      gridLineWidth: 0,\n      tickInterval: 1\n    },\n    tooltip: {\n      x: {\n        formatter: function (value, {\n          series,\n          seriesIndex,\n          dataPointIndex,\n          w\n        }) {\n          return value;\n        }\n      }\n    },\n    plotOptions: {\n      bar: {\n        borderRadius: \"50%\",\n        dataLabels: {\n          enabled: true\n        },\n        groupPadding: 0.1\n      }\n    },\n    legend: {\n      // layout: \"top\",\n      itemDistance: 1,\n      align: \"center\",\n      verticalAlign: \"bottom\",\n      floating: false,\n      borderWidth: 1,\n      backgroundColor: \"#FFFFFF\",\n      shadow: true\n    },\n    credits: {\n      enabled: false\n    },\n    series: [{\n      name: \"Vote\",\n      data: dataVote && (dataVote === null || dataVote === void 0 ? void 0 : (_dataVote$series = dataVote.series) === null || _dataVote$series === void 0 ? void 0 : _dataVote$series.data)\n    }]\n  };\n\n  const handleActiveChart = () => {\n    getData();\n    setShowChart(true);\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(Container, {\n      fluid: true,\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsx(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsx(Col, {\n          xl: \"8\",\n          md: \"12\",\n          children: /*#__PURE__*/_jsxs(Card, {\n            className: \"shadow\",\n            children: [/*#__PURE__*/_jsx(CardHeader, {\n              className: \"bg-transparent\",\n              children: /*#__PURE__*/_jsx(Row, {\n                className: \"align-items-center\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col\",\n                  children: /*#__PURE__*/_jsx(\"h2\", {\n                    className: \"mb-0\",\n                    children: \"Hasil Vote\"\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsxs(CardBody, {\n              children: [showChart === false ? /*#__PURE__*/_jsx(Button, {\n                onClick: () => handleActiveChart(),\n                color: \"success\",\n                className: \"mb-3\",\n                children: \"Kalkulasi Sekarang\"\n              }) : null, showChart ? /*#__PURE__*/_jsx(HighchartsReact, {\n                highcharts: Highcharts,\n                options: options\n              }) : null]\n            })]\n          })\n        })\n      })\n    })\n  });\n};\n\nDashboard.layout = Admin;\nexport default Dashboard;","map":null,"metadata":{},"sourceType":"module"}